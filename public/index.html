<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ahaa artistuuuuu</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <main class="app">
      <section id="homeView" class="card">
        <h1>Ahaa artistuuuuu</h1>
        <p class="sub">Multiplayer guessing game Â· 2 to 15 players</p>

        <label>Name</label>
        <input id="nameInput" maxlength="24" placeholder="Enter your name" />

        <label class="mt">Invite code (optional for host)</label>
        <input id="codeInput" maxlength="8" placeholder="e.g. ABC123" />

        <div class="row mt">
          <button id="createBtn">Create Room</button>
          <button id="joinBtn" class="secondary">Join Room</button>
        </div>

        <p id="homeError" class="error"></p>
      </section>

      <section id="gameView" class="hidden">
        <div class="game-layout">
          <div class="main-column">
            <div class="header">
              <div>
                <h2 id="roomTitle">Room</h2>
                <p id="phaseText" class="sub"></p>
                <p id="myNameTop" class="sub"></p>
                <p id="headerMovieText" class="sub"></p>
              </div>
              <div class="header-actions">
                <div id="hostTransferCard" class="hidden host-transfer-header">
                  <select id="hostTransferSelect"></select>
                  <button id="transferHostBtn" class="secondary">Transfer Host</button>
                </div>
                <button id="leaveBtn" class="secondary">Leave</button>
              </div>
            </div>

            <div class="card" id="inviteCard">
              <p><strong>Invite code:</strong> <span id="inviteCode"></span></p>
              <p><strong>Share link:</strong> <span id="inviteLink"></span></p>
              <button id="copyInviteBtn" class="secondary">Copy Invite Link</button>
            </div>

            <div class="card" id="lobbySettingsCard">
              <h3>Game Setup</h3>
              <label>Rounds</label>
              <input id="roundsInput" type="number" min="1" max="30" />
              <label class="mt">Time limit per round (seconds)</label>
              <input id="timeInput" type="number" min="15" max="180" />
              <label class="mt">Hint reveal letters (0-3)</label>
              <input id="hintRevealInput" type="number" min="0" max="3" />
              <div class="row mt">
                <button id="saveSettingsBtn" class="secondary">Save Settings</button>
                <button id="startBtn">Start Game</button>
              </div>
              <p class="sub">Turn moves in a circle. Only clue giver sees movie name.</p>
            </div>

            <div class="card" id="playCard">
              <div class="play-meta-row">
                <div class="meta-chip"><span>Round</span><strong id="roundText">-</strong></div>
                <div class="meta-chip"><span>Clue Giver</span><strong id="clueGiverText">-</strong></div>
                <div class="meta-chip meta-movie"><span>Movie / Hint</span><strong id="movieText">-</strong></div>
                <div class="meta-chip"><span>Timer</span><strong id="timerText">-</strong></div>
              </div>
              <p id="roleText" class="sub"></p>

              <div class="play-main-grid">
                <aside class="left-rail">
                  <div id="drawControls" class="hidden draw-tools">
                    <h4>Draw Tools</h4>
                    <label for="colorInput">Color</label>
                    <input id="colorInput" type="color" value="#111111" />
                    <label class="mt" for="sizeInput">Brush Size <span id="sizeValue">4px</span></label>
                    <input id="sizeInput" type="range" min="1" max="24" value="4" />
                    <div class="row mt">
                      <button id="clearBoardBtn" class="secondary">Clear Board</button>
                    </div>
                  </div>

                  <div class="leaderboard-panel" id="scoreboardCard">
                    <h3>Leaderboard</h3>
                    <div id="playersList" class="list"></div>
                  </div>
                </aside>

                <section class="board-panel board-focus">
                  <div class="board-wrap">
                    <canvas id="boardCanvas" width="700" height="360"></canvas>
                  </div>
                </section>

                <aside id="guessChatCard" class="play-side chat-panel">
                  <h3>Guess Chat</h3>
                  <div id="guessesList" class="list chat-messages"></div>
                  <div id="guessBox" class="hidden chat-input">
                    <label>Guess the Telugu movie</label>
                    <div class="row chat-input-row">
                      <input id="guessInput" maxlength="60" placeholder="Type your guess" />
                      <button id="sendGuessBtn">Guess</button>
                    </div>
                    <p id="guessFeedback" class="sub"></p>
                  </div>
                </aside>
              </div>
            </div>

            <div class="card hidden" id="winnerCard">
              <h3>Winner</h3>
              <p id="winnerText"></p>
              <p id="closeCountdownText" class="sub"></p>
            </div>

            <div class="card hidden" id="rankingCard">
              <h3>Final Rankings</h3>
              <p id="rankingNote" class="sub"></p>
              <div id="rankingList" class="list"></div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <script src="/socket.io/socket.io.js"></script>
    <script type="module" src="/script.js"></script>
  </body>
</html>
